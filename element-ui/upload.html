<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/element-ui@2.15.1/lib/theme-chalk/index.min.css"
    />
    <style>
      .el-upload-list__item.is-ready{
        width: 50px;
        height: 50px;
      }
      .el-upload-list__item-delete .el-icon-delete {
        position: absolute;
        top: 0;
        right: 0;
        color: blue;
        background-color: red;
      }
      .el-upload--picture-card{
        width: 50px;
        height: 50px;
        line-height: 56px;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <div class="wrapper">
        <el-upload
          action="#"
          list-type="picture-card"
          :auto-upload="false"
          :on-preview="handlePictureCardPreview"
          :on-change="handleChange"
          :file-list="fileList"
        >
          <i slot="default" class="el-icon-plus"></i>
          <div slot="file" slot-scope="{ file }">
            <img
              class="el-upload-list__item-thumbnail"
              :src="file.url"
              alt="123"
            />
            <span class="el-upload-list__item-actions">
              <!-- <span
                class="el-upload-list__item-preview"
                @click="handlePictureCardPreview(file)"
              >
                <i class="el-icon-zoom-in"></i> 
              </span>
              <span
                v-if="!disabled"
                class="el-upload-list__item-delete"
                @click="handleDownload(file)"
              >
                <i class="el-icon-download"></i>
              </span> -->
              <span
                v-if="!disabled"
                class="el-upload-list__item-delete"
                @click="handleRemove(file)"
              >
                <i class="el-icon-delete"></i>
              </span>
            </span>
          </div>
        </el-upload>
        <el-dialog :visible.sync="dialogVisible">
          <img width="100%" :src="dialogImageUrl" alt="" />
        </el-dialog>
      </div>
      <!-- <div>
        <el-upload
          action="#"
          list-type="picture-card"
          :auto-upload="false"
          :on-preview="handlePictureCardPreview"
          :on-remove="handleRemove"
        >
          <i class="el-icon-plus"></i>
        </el-upload>
        <el-dialog :visible.sync="dialogVisible">
          <img width="100%" :src="dialogImageUrl" alt="" />
        </el-dialog>
      </div> -->
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/element-ui@2.15.1/lib/index.min.js"></script>
    <script>
      new Vue({
        el: '#app',
        data() {
          return {
            dialogImageUrl: '',
            dialogVisible: false,
            disabled: false,
            fileList: [],
          }
        },
        methods: {
          handleChange(file,fileList){
            // console.log(file);
            console.log(fileList);
            this.fileList = fileList
          },
          handleRemove(file,fileList) {
            // console.log(file)
            console.log('this.fileList',this.fileList);
            // this.fileList = []
            this.fileList = this.fileList.filter((item) => item.name !== file.name)
          },
          handlePictureCardPreview(file) {
            console.log('preview',file)

            this.dialogImageUrl = file.url
            this.dialogVisible = true
          },
          handleDownload(file) {
            console.log(file)
          },
        },
      })
    </script>
  </body>
</html>
